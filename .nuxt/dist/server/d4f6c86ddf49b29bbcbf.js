exports.ids=[5],exports.modules={66:function(e,t,o){var content=o(68);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var r=o(3).default;e.exports.__inject__=function(e){r("741ef5f5",content,!0,e)}},67:function(e,t,o){"use strict";o.r(t);var r=o(66),l=o.n(r);for(var n in r)"default"!==n&&function(e){o.d(t,e,(function(){return r[e]}))}(n);t.default=l.a},68:function(e,t,o){(t=o(2)(!1)).push([e.i,".profile{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;min-height:calc(100vh - 53px)}.profile .media:not(:last-child){margin-bottom:1rem}.profile .media:not(:last-child) .media-content{overflow:unset}.profile .hero:last-child{-webkit-box-flex:1;flex:1}",""]),e.exports=t},72:function(e,t,o){"use strict";o.r(t);var r={name:"ProfileDetail",components:{Destination:o(4).a},watchQuery:["page"],async asyncData({$api:e,params:t,store:o,query:r}){let l=null,n={page_size:9,page:Number.parseInt(r.page)||1};return t.username&&(l=await e.user.get(t.username),n.target_content=o.state.config.contentTypes.user,n.target=l.id),{user:l,activityRes:await e.activity.list(n),profile:l&&l.profile?l.profile:{},queries:n,responseD:await e.destination.list({page_size:3,user:l?l.id:void 0})}},head(){return{title:this.convertName(this.user)}},data(){return{isUpdate:!1,loading:!1,activeTab:0,baseTabs:[{label:"Pictures",content:"Lorem ipsum dolor sit amet.",displayed:!0},{label:"Music",content:"Lorem ipsum dolor sit amet.",displayed:this.showMusic},{label:"Videos",content:"Lorem ipsum dolor sit amet.",displayed:!0}]}},methods:{async updateProfile(){this.loading=!0;let data=this.cleanData(this.user);data.profile={media:this.profile.media?this.profile.media.id:null,description:this.profile.description},await this.$api.user.update(this.user.username,data),this.loading=!1,this.isUpdate=!1}},computed:{updating(){return this.$route.query.updating||this.isUpdate}},mounted(){this.toTop(),this.$nextTick(()=>{this.reLayout()})},updated(){0}},l=o(1);var component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"profile"},[e._ssrNode('<div class="hero">',"</div>",[e._ssrNode('<div class="hero-body">',"</div>",[e._ssrNode('<div class="container small">',"</div>",[e._ssrNode('<div class="media">',"</div>",[e._ssrNode('<div class="media-left">',"</div>",[o("Avatar",{staticClass:"is-128x128",attrs:{"can-update":e.updating,name:e.convertName(e.user)},model:{value:e.profile.media,callback:function(t){e.$set(e.profile,"media",t)},expression:"profile.media"}})],1),e._ssrNode(" "),e._ssrNode('<div class="media-content">',"</div>",[e.updating?o("b-field",{staticClass:"title",attrs:{grouped:""}},[o("b-field",{attrs:{expanded:""}},[o("b-input",{staticClass:"is-text",attrs:{placeholder:"First name"},model:{value:e.user.first_name,callback:function(t){e.$set(e.user,"first_name",t)},expression:"user.first_name"}})],1),e._v(" "),o("b-field",{attrs:{expanded:""}},[o("b-input",{staticClass:"is-text",attrs:{placeholder:"Last name"},model:{value:e.user.last_name,callback:function(t){e.$set(e.user,"last_name",t)},expression:"user.last_name"}})],1)],1):e._ssrNode('<h1 class="title">',"</h1>",[e._ssrNode(e._ssrEscape(e._s(e.convertName(e.user))))],2)],1),e._ssrNode(" "),e.updating?e._e():e._ssrNode('<div class="media-right">',"</div>",[e._ssrNode('<div class="buttons">',"</div>",[o("follow",{attrs:{model:"user",pk:e.user.id,value:e.user.is_following}}),e._ssrNode(" "),o("b-dropdown",{attrs:{position:"is-bottom-left","aria-role":"menu"}},[o("div",{staticClass:"button",attrs:{slot:"trigger"},slot:"trigger"},[o("b-icon",{attrs:{icon:"dots-vertical",size:"is-small"}})],1),e._v(" "),o("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(t){e.isUpdate=!e.isUpdate}}},[o("b-icon",{attrs:{size:"is-small",icon:"pen"}}),e._v(" "),o("span",[e._v("Update Profile")])],1),e._v(" "),o("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(t){return e.$auth.logout()}}},[o("b-icon",{attrs:{size:"is-small",icon:"exit-to-app"}}),e._v(" "),o("span",[e._v("Logout")])],1)],1)],2)])],2),e._ssrNode(" "),e._ssrNode('<div class="subtitle">',"</div>",[o("editable",{attrs:{placeholder:"Bio",type:"textarea",rows:2,"is-updating":e.updating},model:{value:e.profile.description,callback:function(t){e.$set(e.profile,"description",t)},expression:"profile.description"}})],1),e._ssrNode(" "+(e.updating?'<div><div class="button is-primary is-medium">Save</div></div>':"\x3c!----\x3e")+" "),o("b-loading",{attrs:{"is-full-page":!1,active:e.loading,"can-cancel":!0},on:{"update:active":function(t){e.loading=t}}})],2)])]),e._ssrNode(" "),e._ssrNode('<div class="section has-background-light">',"</div>",[e._ssrNode('<div class="container">',"</div>",[e._ssrNode('<div class="columns is-multiline">',"</div>",e._l(e.responseD.results,(function(t,i){return e._ssrNode('<div class="column is-4">',"</div>",[o("destination",{attrs:{value:t}})],1)})),0)])]),e._ssrNode(" "),e.updating?e._e():e._ssrNode('<div class="hero">',"</div>",[e._ssrNode('<div class="hero-body">',"</div>",[e._ssrNode('<div class="container">',"</div>",[o("activity-list",{attrs:{value:e.activityRes,q:e.queries}})],1)])])],2)}),[],!1,(function(e){var t=o(67);t.__inject__&&t.__inject__(e)}),null,"f088b84a");t.default=component.exports}};